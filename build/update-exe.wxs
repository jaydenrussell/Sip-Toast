<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <Fragment>
    <!-- Update Launcher (update.exe) Configuration -->
    <!-- This executable runs before the main app to check for and apply updates -->
    
    <!-- Define the update launcher directory -->
    <DirectoryRef Id="INSTALLDIR">
      <!-- Update launcher executable -->
      <Component Id="UpdateLauncher" Guid="{UPDATE_LAUNCHER_GUID}" KeyPath="yes" Directory="INSTALLDIR">
        <File 
          Id="UpdateLauncher.exe" 
          Source="dist\win-unpacked\update.exe" 
          Name="update.exe" 
          ProcessorArchitecture="x64" />
      </Component>
    </DirectoryRef>

    <!-- Feature definition - update launcher is required -->
    <Feature 
      Id="UpdateLauncherFeature" 
      Title="Update Launcher" 
      Description="Enables automatic background updates" 
      Level="1">
      <ComponentRef Id="UpdateLauncher" />
    </Feature>
  </Fragment>
</Wix>
